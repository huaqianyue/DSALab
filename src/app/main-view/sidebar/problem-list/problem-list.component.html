<div class="problem-list-container">
  <div class="problem-list-header">
    <h3>题目列表 ({{ problems.length }})</h3>
  </div>

  <div class="problem-list-content">
    
    <!-- 简化的列表显示 -->
    <div *ngFor="let problem of problems" 
         class="problem-item"
         [class.current-problem]="isCurrentProblem(problem)"
         [class.last-opened-problem]="isLastOpenedProblem(problem)"
         [attr.data-problem-id]="problem.id"
         (click)="selectProblem(problem)">
      <div class="problem-title">
        <strong>{{ problem.shortDescription || problem.Title }}</strong>
        <span class="last-opened-badge" *ngIf="isLastOpenedProblem(problem) && !isCurrentProblem(problem)">
          📌 上次打开
        </span>
      </div>
      <div class="problem-content" *ngIf="hasCode(problem) || hasAudio(problem) || hasTestStatus(problem) || hasTestScore(problem)">
        <nz-tag nzColor="blue" *ngIf="hasCode(problem)">
          <i nz-icon nzType="code"></i> 代码
        </nz-tag>
        <nz-tag nzColor="green" *ngIf="hasAudio(problem)">
          <i nz-icon nzType="sound"></i> 音频
        </nz-tag>
        <nz-tag [nzColor]="getTestScoreTagColor(problem)" *ngIf="hasTestScore(problem)">
          <i nz-icon nzType="experiment"></i> {{ getTestScoreText(problem) }}
        </nz-tag>
        <nz-tag [nzColor]="getTestStatusTagColor(problem)" *ngIf="hasTestStatus(problem)">
          {{ getTestStatusText(problem) }}
        </nz-tag>
      </div>
    </div>
  </div>

  <div class="problem-list-footer" *ngIf="problems.length === 0">
    <nz-empty
      nzNotFoundImage="simple" 
      nzNotFoundContent="暂无题目">
    </nz-empty>
  </div>
</div>