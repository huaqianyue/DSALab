<div class="problem-list-container">
  <div class="problem-list-header">
    <h3>é¢˜ç›®åˆ—è¡¨ ({{ problems.length }})</h3>
    <div class="header-actions">
      <button 
        nz-button 
        nzType="text" 
        nzSize="small" 
        nz-tooltip 
        nzTooltipTitle="åˆ·æ–°é¢˜ç›®åˆ—è¡¨"
        [nzLoading]="isRefreshing"
        (click)="refreshProblems()">
        <i nz-icon nzType="reload"></i>
      </button>
    </div>
  </div>

  <div class="problem-list-content">
    <!-- è°ƒè¯•ä¿¡æ¯ -->
    <div style="padding: 10px; background: #f0f0f0; margin: 5px; font-size: 12px;" *ngIf="problems.length > 0">
      è°ƒè¯•: æ‰¾åˆ° {{ problems.length }} ä¸ªé¢˜ç›®
    </div>
    
    <!-- ç®€åŒ–çš„åˆ—è¡¨æ˜¾ç¤º -->
    <div *ngFor="let problem of problems" 
         style="padding: 10px; border-bottom: 1px solid #eee; cursor: pointer;"
         [style.background]="isCurrentProblem(problem) ? '#e6f7ff' : 'white'"
         (click)="selectProblem(problem)">
      <div><strong>{{ problem.shortDescription || problem.Title }}</strong></div>
      <div style="font-size: 12px; color: #666;">ID: {{ problem.id }}</div>
      <div style="font-size: 11px; color: #999;" *ngIf="hasCode(problem) || hasAudio(problem)">
        <span *ngIf="hasCode(problem)">ğŸ“„ ä»£ç </span>
        <span *ngIf="hasAudio(problem)">ğŸµ éŸ³é¢‘</span>
      </div>
    </div>
  </div>

  <div class="problem-list-footer" *ngIf="problems.length === 0">
    <nz-empty
      nzNotFoundImage="simple" 
      nzNotFoundContent="æš‚æ— é¢˜ç›®">
    </nz-empty>
  </div>
</div>