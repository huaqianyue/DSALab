<div class="problem-description-container">
  <!-- 题目描述内容 -->
  <div class="problem-description-content" *ngIf="currentProblem; else noProblemSelected">
    <!-- 题目标题 -->
    <div class="problem-header">
      <h3 class="problem-title">{{ currentProblem.Title }}</h3>
      <div class="navigation-buttons">
        <button 
          nz-button 
          nzType="text" 
          nzSize="small"
          [disabled]="!canNavigateToPrevious()"
          (click)="navigateToPrevious()"
          nz-tooltip 
          nzTooltipTitle="上一题">
          <i nz-icon nzType="left"></i>
        </button>
        <button 
          nz-button 
          nzType="text" 
          nzSize="small"
          [disabled]="!canNavigateToNext()"
          (click)="navigateToNext()"
          nz-tooltip 
          nzTooltipTitle="下一题">
          <i nz-icon nzType="right"></i>
        </button>
      </div>
    </div>

    <!-- 题目描述 -->
    <div class="problem-content">
      <nz-card nzTitle="题目描述" nzSize="small">
        <div class="description-text" [innerHTML]="currentProblem.fullDescription"></div>
      </nz-card>
    </div>
  </div>

  <!-- 未选择题目时的提示 -->
  <ng-template #noProblemSelected>
    <div class="no-problem-selected">
      <nz-empty 
        nzNotFoundImage="simple" 
        nzNotFoundContent="请从题目列表中选择一个题目">
      </nz-empty>
    </div>
  </ng-template>

  <!-- 音频录制面板 - 完全按照DSALab原始设计 -->
  <div class="audio-panel" *ngIf="currentProblem">
    <div class="panel-header">
      <div class="panel-title">
        <i class="fas fa-microphone-alt"></i> 音频讲解
      </div>
    </div>
    <div class="panel-content audio-controls">
      <button id="recordAudioBtn" class="btn-audio" data-tooltip="录制音频">
        <i class="fas fa-microphone"></i> 录制
      </button>
      <button id="pauseResumeBtn" class="btn-audio" data-tooltip="暂停/继续" disabled>
        <i class="fas fa-pause"></i> 暂停
      </button>
      <audio id="audioPlayback" controls preload="metadata" style="display: none;"></audio>
    </div>
  </div>
</div>