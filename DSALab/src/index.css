/* ==========================================================================
   全局重置与基本样式 (Global Resets & Base Styles)
   对应 HTML: * { ... }, body { ... }, #app { ... }
   ========================================================================== */
   * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    background: #000000;
    color: #e6edf3;
    overflow: hidden; /* 防止整体滚动，由内部面板处理 */
    height: 100vh;
  }
  
  #app {
    display: flex;
    flex-direction: column; /* #app 现在垂直排列：顶部栏 + 工作区 */
    height: 100vh;
  }
  
  /* ==========================================================================
     全局顶部导航栏 (Global Header Bar)
     对应 HTML: <header class="global-header-bar"> ... </header>
     ========================================================================== */
  .global-header-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 48px; /* 根据图片调整高度 */
    background: #161b22; /* 深色背景 */
    border-bottom: 1px solid #21262d;
    padding: 0 16px; /* 左右内边距 */
    flex-shrink: 0; /* 防止缩小 */
    -webkit-app-region: drag; /* 允许拖动窗口 (Electron/桌面应用特性) */
  }
  
  /* 对应 HTML: <div class="header-left">, <div class="header-center">, <div class="header-right"> */
  .global-header-bar .header-left,
  .global-header-bar .header-center,
  .global-header-bar .header-right {
    display: flex;
    align-items: center;
    gap: 12px; /* 按钮间距 */
  }
  
  /* 调整 header-left 的 gap，因为 user-info 现在是其一部分 */
  .global-header-bar .header-left {
    gap: 8px; /* 按钮之间更紧凑的间距 */
  }
  
  /* 对应 HTML: <div class="user-info"> */
  .global-header-bar .user-info {
    display: flex;
    flex-direction: row; /* 横排 */
    align-items: center;
    gap: 8px; /* 输入框之间的间距 */
    /* margin-right: 12px; /* 移除，现在由 header-left 的 gap 控制 */
    -webkit-app-region: no-drag; /* 不应拖动窗口 */
  }
  
  /* 对应 HTML: <input type="text" id="userNameInput" class="user-input">, <input type="text" id="studentIdInput" class="user-input"> */
  .global-header-bar .user-info .userNameInput {
    background: #21262d;
    border: 1px solid #30363d;
    border-radius: 4px;
    color: #e6edf3;
    padding: 4px 8px;
    font-size: 12px;
    width: 80px; /* 适当宽度 */
    transition: border-color 0.2s ease;
  }
  .global-header-bar .user-info .studentIdInput {
    background: #21262d;
    border: 1px solid #30363d;
    border-radius: 4px;
    color: #e6edf3;
    padding: 4px 8px;
    font-size: 12px;
    width: 120px; /* 适当宽度 */
    transition: border-color 0.2s ease;
  }
  
  .global-header-bar .user-info .user-input::placeholder {
    color: #7d8590;
  }
  
  .global-header-bar .user-info .user-input:focus {
    outline: none;
    border-color: #1f6feb;
  }
  
  /* 移除 .global-header-bar .header-btn 的通用样式，现在由 .action-button 和 .btn-audio 处理 */
  /* .global-header-bar .header-btn { ... } */
  /* .global-header-bar .header-btn:hover { ... } */
  
  /* 新增：通用动作按钮样式 (用于刷新、导入、保存、导出、清空、运行) */
  .action-button {
    background: #21262d;
    border: 1px solid #30363d;
    color: #e6edf3; /* Default text/icon color for action buttons */
    padding: 6px 10px;
    border-radius: 3px; /* Square corners */
    font-size: 14px; /* Text font size */
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    -webkit-app-region: no-drag; /* Important for Electron */
  }
  
  .action-button:hover {
    background: #30363d;
    border-color: #444c56;
    color: #e6edf3;
  }
  
  /* 禁用按钮样式 (通用) */
  /* .global-header-bar .header-btn:disabled, */ /* 移除，由 .action-button:disabled 覆盖 */
  .action-button:disabled,
  .btn-audio:disabled { /* 扩展到新的音频按钮 */
    color: #444c56; /* 更暗的颜色 */
    cursor: not-allowed;
    background: transparent;
    border-color: transparent; /* 禁用时边框也透明 */
  }
  
  /* .global-header-bar .header-btn:disabled:hover, */ /* 移除，由 .action-button:disabled:hover 覆盖 */
  .action-button:disabled:hover,
  .btn-audio:disabled:hover { /* 扩展到新的音频按钮 */
    background: transparent;
    border-color: transparent;
    color: #444c56;
  }
  
  /* ==========================================================================
     主要工作区 (Workspace)
     对应 HTML: <div class="workspace"> ... </div>
     ========================================================================== */
  .workspace {
    display: flex; /* 工作区内部水平排列左右面板 */
    flex: 1; /* 占据 #app 剩余的所有垂直空间 */
    overflow: hidden; /* 防止内容溢出，内部面板将处理滚动 */
  }
  
  /* ==========================================================================
     面板通用样式 (General Panel Styles)
     这些样式被多个面板的头部和内容区域共享
     ========================================================================== */
  .panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #161b22;
    border-bottom: 1px solid #21262d;
    padding: 0 12px; /* 调整内边距 */
    height: 40px; /* 统一头部高度 */
    flex-shrink: 0;
  }
  
  .panel-header .panel-title {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 14px;
    font-weight: 500;
    color: #e6edf3;
  }
  
  .panel-header .panel-title i {
    font-size: 13px;
    color: #7d8590;
  }
  
  .panel-header .panel-actions {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  /* ==========================================================================
     左侧面板：题目描述 (Problem Description Panel)
     对应 HTML: <div class="problem-description-panel"> ... </div>
     ========================================================================== */
  .problem-description-panel {
    flex: 0 0 40%; /* 左侧面板占据 40% 宽度，可根据需要调整 */
    /* flex-basis 应该由JS控制，这里提供一个初始值 */
    flex-basis: 40%;
    display: flex; /* 使其成为 flex 容器，以便垂直堆叠题目描述和音频面板 */
    flex-direction: column;
    background: #0d1117; /* 面板背景色 */
    overflow: hidden; /* 隐藏内部滚动条，由 panel-content 处理 */
    min-width: 250px; /* 最小宽度 */
  }
  
  /* 新增：题目列表和题目描述的标签页头部容器 */
  .problem-panel-tabs {
    display: flex;
    background: #161b22;
    border-bottom: 1px solid #21262d;
    flex-shrink: 0; /* 防止缩小 */
  }
  
  /* 新增：单个标签页头部样式 */
  .problem-tab-header {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 10px 15px;
    font-size: 14px;
    font-weight: 500;
    color: #7d8590; /* 非激活状态颜色 */
    cursor: pointer;
    position: relative; /* 用于激活下划线 */
    transition: color 0.2s ease;
  }
  
  .problem-tab-header:hover {
    color: #e6edf3; /* 悬停颜色 */
  }
  
  .problem-tab-header i {
    font-size: 13px;
    color: #7d8590; /* 图标颜色 */
    transition: color 0.2s ease;
  }
  
  .problem-tab-header.active {
    color: #e6edf3; /* 激活状态颜色 */
  }
  
  .problem-tab-header.active i {
    color: #e6edf3; /* 激活状态图标颜色 */
  }
  
  /* 激活状态下的蓝色下划线 */
  .problem-tab-header.active::after {
    content: '';
    position: absolute;
    bottom: -1px; /* 覆盖 border-bottom */
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #1f6feb; /* 蓝色 */
    transition: all 0.2s ease;
  }
  
  /* 新增：题目列表内容区域 */
  .problem-list-content {
    flex: 1; /* 占据剩余空间 */
    overflow-y: auto; /* 允许内容滚动 */
    padding: 16px;
    color: #e6edf3;
    font-size: 14px;
    line-height: 1.6;
    display: none; /* 默认隐藏 */
    /* min-height: 100px; /* 最小高度，用于拖动 */ /* 由父容器控制 */
  }
  
  .problem-list-content.active {
    display: block; /* 激活时显示 */
  }
  
  .problem-list {
    list-style: none; /* 移除默认列表样式 */
    padding: 0;
    margin: 0;
  }
  
  .problem-item {
    padding: 8px 12px;
    margin-bottom: 4px;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s ease, color 0.2s ease;
    color: #7d8590;
    display: flex; /* 使得图标和文本在同一行 */
    align-items: center;
    justify-content: space-between; /* 文本和图标分开两边 */
  }
  
  
  .problem-item:hover {
    background-color: #21262d;
    color: #e6edf3;
  }
  
  .problem-item.active {
    background-color: #1f6feb; /* 激活的题目背景色 */
    color: #ffffff;
    font-weight: 600;
  }
  
  /* 新增：包裹图标的容器样式 */
  .problem-action-icons {
    display: flex; /* 让图标在容器内横向排列 */
    align-items: center;
    gap: 8px; /* 控制图标之间的间距 */
  }
  /* 题目列表中的图标样式 */
  .problem-item .problem-icon {
    margin-left: 8px; /* 图标与文本的间距 */
    font-size: 0.9em;
    opacity: 0.8;
  }
  
  .problem-item .code-icon {
    color: #7aa6da; /* 蓝色 */
  }
  
  .problem-item .audio-icon {
    color: #e78c45; /* 橙色 */
  }
  
  /* 题目描述内容区域 (原 problem-container，现在重命名并添加 panel-content 类) */
  .problem-description-content {
    flex: 1; /* 允许题目描述内容占据剩余空间并滚动 */
    overflow-y: auto; /* 允许内容滚动 */
    padding: 16px;
    color: #e6edf3;
    font-size: 14px;
    line-height: 1.6;
    display: none; /* 默认隐藏 */
    padding-bottom: 10px; /* Adjust if needed to prevent buttons from being too close to scrollbar */
    /* min-height: 100px; /* 最小高度，用于拖动 */ /* 由父容器控制 */
  }
  
  .problem-description-content.active {
    display: block; /* 激活时显示 */
  }
  
  /* 调整原有 problem-container 内部的样式, 现在它们应用于 problem-description-content */
  .problem-description-content h2 {
    font-size: 20px;
    margin-bottom: 12px;
    color: #e6edf3;
  }
  
  .problem-description-content h4 {
    font-size: 16px;
    margin-top: 20px;
    margin-bottom: 10px;
    color: #e6edf3;
  }
  
  .problem-description-content p {
    margin-bottom: 10px;
  }
  
  .problem-description-content code {
    background: #21262d;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: monospace;
    font-size: 13px;
  }
  
  .problem-description-content pre.example {
    background: #161b22;
    border-left: 3px solid #1f6feb;
    padding: 10px 15px;
    margin: 15px 0;
    border-radius: 4px;
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 13px;
    line-height: 1.5;
  }
  
  .problem-description-content ul.hint {
    list-style-type: disc;
    margin-left: 20px;
    padding-left: 0;
    margin-top: 15px;
  }
  
  .problem-description-content ul.hint li {
    margin-bottom: 5px;
    font-size: 13px;
    color: #7d8590;
  }
  
  /* 移除左侧面板内部的水平分割线 */
  /* .problem-description-panel > .horizontal-split-divider {
    height: 4px;
    background: #21262d;
    flex-shrink: 0;
  } */
  
  /* ==========================================================================
     新增：音频录制与播放面板 (Audio Panel)
     对应 HTML: <div class="audio-panel"> ... </div>
     ========================================================================== */
  .audio-panel {
    flex-shrink: 0; /* 防止缩小 */
    height: 100px; /* 固定高度，包含 header 和 content */
    background: #0d1117;
    border-top: 1px solid #21262d; /* 与题目描述内容分隔 */
    display: flex; /* 内部 flex 布局 */
    flex-direction: column; /* 垂直堆叠 header 和 content */
  }
  
  /* 新增：音频面板隐藏时的样式 */
  .audio-panel.hidden {
    display: none;
  }
  
  /* 对应 HTML: <div class="audio-panel"> <div class="panel-header"> */
  /* 继承自通用 panel-header，此处无需额外样式，除非有特定覆盖 */
  
  /* 对应 HTML: <div class="audio-panel"> <div class="panel-content audio-controls"> */
  .audio-panel .panel-content.audio-controls {
    flex: 1; /* 占据剩余空间 */
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
  }
  
  /* 对应 HTML: <button class="btn-audio"> */
  .btn-audio {
    background: #21262d;
    border: 1px solid #30363d;
    color: #e6edf3;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: background 0.2s ease, border-color 0.2s ease;
  }
  
  .btn-audio:hover {
    background: #30363d;
    border-color: #444c56;
  }
  
  /* 对应 HTML: <audio id="audioPlayback"> */
  #audioPlayback {
    flex: 1; /* 让音频播放器占据剩余空间 */
    min-width: 0; /* 防止内容溢出 */
    height: 30px; /* 调整高度 */
    display: none; /* Default hidden */
  }
  
  /* Style for recording button visual feedback */
  .btn-audio.recording {
    background-color: #d54e53; /* Red background for recording */
    border-color: #d54e53;
    color: #ffffff;
  }
  
  .btn-audio.recording:hover {
    background-color: #e74c3c; /* Slightly lighter red on hover */
    border-color: #e74c3c;
  }
  
  /* ==========================================================================
     分割线样式 (Splitter Styles)
     ========================================================================== */
  .main-split-divider {
    width: 4px;
    background: #21262d;
    flex-shrink: 0;
    cursor: ew-resize; /* 左右调整大小的光标 */
  }
  
  /* 只有右侧面板的水平分割线需要 .horizontal-split-divider 样式 */
  .code-test-panel > .horizontal-split-divider {
    height: 4px;
    background: #21262d;
    flex-shrink: 0;
    cursor: ns-resize; /* 垂直方向调整大小的光标 */
  }
  
  /* ==========================================================================
     右侧面板：代码编辑器 & 运行结果 (Code Editor & Test Cases Panel)
     对应 HTML: <div class="code-test-panel"> ... </div>
     ========================================================================== */
  .code-test-panel {
    flex: 1; /* 右侧面板占据剩余宽度 */
    /* flex-basis 应该由JS控制，这里提供一个初始值 */
    flex-basis: 60%;
    display: flex;
    flex-direction: column;
    background: #0d1117; /* 面板背景色 */
    overflow: hidden; /* 隐藏内部滚动条，由 panel-content 处理 */
    min-width: 350px; /* 最小宽度 */
  }
  
  /* 运行按钮的特定样式，基于 .action-button */
  .run-btn {
    color: #4ec9b0; /* 运行按钮的绿色文本/图标 */
    /* 继承 background, border, padding, font-size, display, align-items, gap, border-radius from .action-button */
  }
  
  .run-btn:hover {
    background: #0e4f3c; /* 运行按钮悬停时的深绿色背景 */
    border-color: #4ec9b0; /* 运行按钮悬停时的绿色边框 */
    color: #4ec9b0; /* 运行按钮悬停时保持绿色文本/图标 */
  }
  
  /* ==========================================================================
     代码编辑器区域 (Editor Container)
     对应 HTML: <div class="editor-container"> ... </div>
     ========================================================================== */
  .editor-container {
    flex: 1; /* 占据右侧面板的剩余垂直空间 */
    /* flex-basis 应该由JS控制，这里提供一个初始值 */
    flex-basis: 70%;
    overflow: hidden;
    background: #0d1117;
    /* Monaco Editor 将在此处初始化并处理其自身的样式 */
    /* 临时内容样式 */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #e6edf3;
    font-family: monospace;
    font-size: 14px;
    min-height: 150px; /* 最小高度，用于拖动 */
  }
  
  /* ==========================================================================
     右侧面板内部水平分割线 (Horizontal Split Divider)
     对应 HTML: <div class="horizontal-split-divider"> ... </div>
     ========================================================================== */
  /* .horizontal-split-divider {
    height: 4px;
    background: #21262d;
    flex-shrink: 0;
    cursor: ns-resize;
  } */ /* This is now defined in the general splitter section */
  
  /* ==========================================================================
     运行结果区域 (Test Output Area)
     对应 HTML: <div class="test-output-area"> ... </div>
     ========================================================================== */
  .test-output-area {
    flex: 1; /* 底部运行结果区域占据剩余高度 */
    /* flex-basis 应该由JS控制，这里提供一个初始值 */
    flex-basis: 30%;
    display: flex;
    flex-direction: column;
    background: #0d1117;
    min-height: 150px; /* 最小高度，用于拖动 */
  }
  
  /* 清空输出按钮现在使用 .action-button 样式 */
  /* .clear-output-btn { ... } */
  
  /* 对应 HTML: <div class="test-output-area"> <div class="panel-content"> */
  .test-output-area .panel-content {
    flex: 1;
    overflow-y: auto;
    padding: 16px; /* 保持内边距以美化输出内容 */
    display: flex;
    flex-direction: column;
    padding: 0; /* Remove padding here, output-container has it */
  }
  
  /* 对应 HTML: <div class="output-container"> */
  .output-container {
    flex: 1; /* 输出容器占据剩余空间 */
    background: transparent;
    overflow-y: auto; /* 确保输出内容可滚动 */
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
    font-size: 13px;
    line-height: 1.5;
    white-space: pre-wrap;
    word-wrap: break-word;
    color: #e6edf3;
  }
  
  /* ==========================================================================
     滚动条样式 (Scrollbar Styles)
     ========================================================================== */
  .output-container::-webkit-scrollbar,
  .problem-list-content::-webkit-scrollbar, /* 新增 */
  .problem-description-content::-webkit-scrollbar, /* 新增 */
  .audio-panel .panel-content::-webkit-scrollbar,
  .test-output-area .panel-content::-webkit-scrollbar,
  .export-problem-list-container::-webkit-scrollbar { /* 新增导出列表滚动条 */
    width: 8px;
  }
  
  .output-container::-webkit-scrollbar-track,
  .problem-list-content::-webkit-scrollbar-track, /* 新增 */
  .problem-description-content::-webkit-scrollbar-track, /* 新增 */
  .audio-panel .panel-content::-webkit-scrollbar-track,
  .test-output-area .panel-content::-webkit-scrollbar-track,
  .export-problem-list-container::-webkit-scrollbar-track { /* 新增导出列表滚动条 */
    background: #0d1117;
  }
  
  .output-container::-webkit-scrollbar-thumb,
  .problem-list-content::-webkit-scrollbar-thumb, /* 新增 */
  .problem-description-content::-webkit-scrollbar-thumb, /* 新增 */
  .audio-panel .panel-content::-webkit-scrollbar-thumb,
  .test-output-area .panel-content::-webkit-scrollbar-thumb,
  .export-problem-list-container::-webkit-scrollbar-thumb { /* 新增导出列表滚动条 */
    background: #21262d;
    border-radius: 4px;
  }
  
  .output-container::-webkit-scrollbar-thumb:hover,
  .problem-list-content::-webkit-scrollbar-thumb:hover, /* 新增 */
  .problem-description-content::-webkit-scrollbar-thumb:hover, /* 新增 */
  .audio-panel .panel-content::-webkit-scrollbar-thumb:hover,
  .test-output-area .panel-content::-webkit-scrollbar-thumb:hover,
  .export-problem-list-container::-webkit-scrollbar-thumb:hover { /* 新增导出列表滚动条 */
    background: #30363d;
  }
  
  /* ==========================================================================
     工具提示样式 (Tooltip Styles)
     ========================================================================== */
  [data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    background: #2d2d30;
    color: #cccccc;
    padding: 6px 8px;
    border-radius: 4px;
    font-size: 11px;
    white-space: nowrap;
    z-index: 1000;
    border: 1px solid #3e3e42;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    pointer-events: none;
    /* 默认位置调整，具体元素可能需要覆盖 */
    transform: translateY(-50%);
  }
  
  /* 为全局顶部栏按钮和输入框调整工具提示位置 */
  /* 现在这些按钮都使用 .action-button 或 .btn-audio */
  .action-button[data-tooltip]:hover::after,
  .global-header-bar .user-input[data-tooltip]:hover::after,
  .btn-audio[data-tooltip]:hover::after,
  .problem-item .problem-icon[data-tooltip]:hover::after { /* 新增图标的tooltip */
    top: calc(100% + 8px); /* 位于按钮下方 */
    left: 50%;
    transform: translateX(-50%);
  }
  
  .action-button[data-tooltip]:hover::before,
  .global-header-bar .user-input[data-tooltip]:hover::before,
  .btn-audio[data-tooltip]:hover::before,
  .problem-item .problem-icon[data-tooltip]:hover::before { /* 新增图标的tooltip */
    content: '';
    position: absolute;
    top: calc(100% + 2px); /* 箭头位于按钮下方 */
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-bottom: 4px solid #3e3e42; /* 箭头指向上方 */
    z-index: 1001;
    pointer-events: none;
  }
  
  /* Style for problem navigation buttons */
  .problem-navigation-buttons {
    display: flex;
    justify-content: space-between; /* Space out buttons */
    margin-top: 20px;
    padding-top: 15px;
    border-top: 1px solid #21262d; /* Separator line */
  }
  
  .problem-navigation-buttons .btn-audio {
    flex-grow: 1; /* Allow buttons to grow */
    margin: 0 5px; /* Spacing between buttons */
    justify-content: center; /* Center content within button */
  }
  
  /* Make problem description tab header not clickable initially */
  #problemDescriptionTabHeader {
    pointer-events: none; /* Disable direct clicks */
    opacity: 0.7; /* Dim it slightly */
  }
  
  #problemDescriptionTabHeader.active {
    pointer-events: auto; /* Enable when active (though it's activated by problem item click) */
    opacity: 1; /* Full opacity when active */
  }
  /* ... 现有样式 ... */
  
  /* Terminal Input Area */
  .terminal-input-area {
    display: flex;
    align-items: center;
    padding: 5px;
    background-color: #1e1e1e; /* 匹配深色背景 */
    border-top: 1px solid #333;
    color: #e6edf3;
    font-family: 'JetBrains Mono', Consolas, monospace;
    font-size: 14px;
    flex-shrink: 0; /* Prevent shrinking */
  }
  
  .terminal-input-area .prompt {
    color: #79c0ff; /* 蓝色提示符 */
    margin-right: 5px;
  }
  
  .terminal-input {
    flex-grow: 1;
    background-color: transparent;
    border: none;
    outline: none;
    color: #e6edf3; /* 默认文本颜色 */
    font-family: 'JetBrains Mono', Consolas, monospace;
    font-size: 14px;
    padding: 2px 0;
  }
  
  .terminal-input:focus {
    border: none;
    outline: none;
  }
  
  .terminal-input:disabled {
    color: #6e7681; /* 禁用时的文本颜色 */
    cursor: not-allowed;
  }
  
  /* Output types for styling */
  .output-info {
    color: #79c0ff;
  } /* Light blue for info messages */
  .output-log {
    color: #e6edf3;
  } /* Default text color for program output */
  .output-error {
    color: #ff7b72;
  } /* Red for error messages */
  .output-error-friendly {
    color: #ff7b72;
    font-weight: bold;
  } /* Red, bold for friendly error messages */
  .output-result {
    color: #7ee787;
  } /* Green for success/result messages */
  .output-user-input {
    color: #a5d6ff;
  } /* Lighter blue for user input */
  
  /* Make sure output container can scroll */
  .output-container {
    flex-grow: 1;
    overflow-y: auto;
    padding: 10px;
    background-color: #0d1117; /* Match editor background */
    color: #e6edf3;
    font-family: 'JetBrains Mono', Consolas, monospace;
    font-size: 14px;
    white-space: pre-wrap; /* Preserve whitespace and wrap text */
    word-wrap: break-word; /* Break long words */
  }
  
  /* Adjust .test-output-area .panel-content to use flexbox */
  .test-output-area .panel-content {
    display: flex;
    flex-direction: column;
    height: calc(100% - 40px); /* Adjust based on panel-header height */
    overflow: hidden; /* Prevent internal scrollbars from messing up layout */
    padding: 0; /* Remove padding here, output-container has it */
  }
  
  /* Ensure flex-shrink is 0 for elements that should not shrink when resizing */
  .problem-panel-tabs,
  .audio-panel .panel-header,
  .audio-panel .panel-content.audio-controls,
  .code-test-panel > .panel-header {
    flex-shrink: 0;
  }
  
  /* Specific flex-grow for problem content areas */
  .problem-list-content,
  .problem-description-content {
    flex-grow: 1;
    flex-shrink: 1;
    min-height: 100px; /* Ensure a minimum height for scrolling content */
  }
  
  /* Modal styles */
  .modal {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.7);
  }
  
  .modal.hidden {
    display: none;
  }
  
  .modal-content {
    background-color: #1e1e1e;
    margin: auto;
    padding: 0;
    border: 1px solid #333;
    border-radius: 8px;
    width: 80%;
    max-width: 600px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    display: flex;
    flex-direction: column;
    max-height: 90vh; /* Limit modal height */
  }
  
  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #333;
    color: #e6edf3;
  }
  
  .modal-header h2 {
    margin: 0;
    font-size: 18px;
  }
  
  .close-button {
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }
  
  .close-button:hover,
  .close-button:focus {
    color: #e6edf3;
    text-decoration: none;
  }
  
  .modal-body {
    padding: 20px;
    flex-grow: 1;
    overflow-y: auto; /* Allow body to scroll */
    color: #e6edf3;
    font-size: 14px;
  }
  
  .modal-body p {
    margin-bottom: 15px;
  }
  
  /* --- Start: Export Modal Specific Styles (Adjusted for your theme) --- */
  
  .export-problem-list-container {
    max-height: 300px; /* Fixed height for the scrollable list */
    overflow-y: auto;
    border: 1px solid #333;
    border-radius: 4px;
    padding: 5px;
    background-color: #0d1117; /* Match editor background */
    margin-bottom: 15px; /* Add some space below the list */
  }
  
  #exportProblemList {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  .export-problem-item {
    display: flex;
    align-items: center;
    padding: 8px 10px;
    border-bottom: 1px solid #21262d;
    color: #e6edf3; /* Default text color */
  }
  
  .export-problem-item:last-child {
    border-bottom: none;
  }
  
  .export-problem-item label {
    display: flex;
    align-items: center;
    cursor: pointer;
    flex-grow: 1;
    font-size: 0.95em;
  }
  
  .export-problem-item input[type="checkbox"] {
    margin-right: 10px;
    width: 16px;
    height: 16px;
    /* 使用您现有的复选框样式或 accent-color */
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    border: 1px solid #30363d; /* Border from your user-input */
    border-radius: 3px;
    background-color: #21262d; /* Background from your user-input */
    cursor: pointer;
    position: relative;
    flex-shrink: 0;
  }
  
  .export-problem-item input[type="checkbox"]:checked {
    background-color: #1f6feb; /* Primary color from your active problem item */
    border-color: #1f6feb;
  }
  
  .export-problem-item input[type="checkbox"]:checked::after {
    content: '\2713'; /* Checkmark character */
    display: block;
    color: #ffffff; /* White checkmark */
    font-size: 12px;
    line-height: 16px;
    text-align: center;
  }
  
  .export-problem-item input[type="checkbox"]:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background-color: #333333; /* Darker background for disabled */
    border-color: #444444;
  }
  
  .export-problem-item input[type="checkbox"]:disabled:checked::after {
    color: #777777; /* Dimmer checkmark */
  }
  
  .export-problem-item.active-problem {
    background-color: #21262d; /* Highlight color, similar to problem-item:hover */
    border-radius: 4px; /* Apply border-radius to the item */
  }
  
  /* 状态文本样式 */
  .export-status {
    font-size: 0.85em;
    margin-left: 8px;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: bold;
    white-space: nowrap; /* 防止状态文本换行 */
    vertical-align: middle; /* 垂直居中对齐 */
  }
  
  .deleted-status {
    color: #ff7b72; /* Red, from output-error */
    background-color: rgba(255, 123, 114, 0.15); /* Semi-transparent red */
  }
  
  .missing-status {
    color: #e78c45; /* Orange, from audio-icon */
    background-color: rgba(231, 140, 69, 0.15); /* Semi-transparent orange */
  }
  
  /* 禁用状态的题目项 */
  .export-problem-item.disabled-problem label {
    color: #7d8590; /* Dimmer text color, from problem-item default */
    cursor: not-allowed;
  }
  
  .export-problem-item.disabled-problem .export-status {
    opacity: 0.7; /* 状态文本也变浅 */
  }
  
  .modal-footer {
    display: flex;
    justify-content: flex-end;
    padding: 15px 20px;
    border-top: 1px solid #333;
    gap: 10px;
  }
  
  .modal-footer .btn-audio {
    padding: 8px 15px;
    /* 继承 .btn-audio 的样式，无需额外定义 */
  }
  
  /* --- End: Export Modal Specific Styles --- */
  
  /* Loading spinner for buttons */
  .action-button.loading i.fas.fa-sync-alt {
    animation: spin 1s linear infinite;
  }
  
  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
  
  /* 已删除题目的样式 */
  .problem-item.deleted-problem {
    text-decoration: line-through; /* 添加删除线 */
    color: #888; /* 使文本颜色变淡，表示已删除 */
    font-style: italic; /* 可选：使字体变为斜体 */
    opacity: 0.7; /* 可选：降低透明度 */
  }
  
  /* 确保删除线样式也应用于内部文本和图标 */
  .problem-item.deleted-problem .problem-title-text,
  .problem-item.deleted-problem .problem-action-icons .problem-icon {
    color: inherit; /* 继承父元素的变淡颜色 */
  }
  
  /* index.css */
  
  /* ... (其他样式) */
  
  /* 如果你希望禁用复选框旁边的文本点击，可以这样 */
  .export-problem-item.deleted-problem-export label {
    cursor: not-allowed; /* 鼠标变为禁止符号 */
  }
